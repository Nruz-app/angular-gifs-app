import{b}from"./chunk-LCUGFUCB.js";import{Fa as h,Ha as w,J as m,Ja as g,Ka as d,La as o,Ma as l,Na as y,O as p,Oa as D,Pa as P,Ua as E,V as v,Va as I,W as u,fa as S,na as T,pa as r,va as _,ya as C}from"./chunk-KXMZT2NK.js";var c=class t{constructor(){}trendingScrollState=S(0);PagesScrolllState={page1:100,pag2:0,aboutPage:50,page20:0};static \u0275fac=function(e){return new(e||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};var V=["divGroup"],A=(t,i)=>i.id;function F(t,i){if(t&1&&(o(0,"div"),y(1,"img",3),l()),t&2){let e=i.$implicit;r(),h("src",e.url,T)("alt",e.title)}}function H(t,i){if(t&1&&(o(0,"div",2),g(1,F,2,2,"div",null,A),l()),t&2){let e=i.$implicit;r(),d(e)}}var G=class t{gifService=p(b);scrollStateService=p(c);scrollDivRef=_("divGroup");ngAfterViewInit(){let i=this.scrollDivRef()?.nativeElement;i&&(i.scrollTop=this.scrollStateService.trendingScrollState())}onScroll(i){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let n=e.scrollTop,a=e.clientHeight,f=e.scrollHeight,s=n+a+300>=f;this.scrollStateService.trendingScrollState.set(n),s&&this.gifService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-trending-page"]],viewQuery:function(e,n){e&1&&E(n.scrollDivRef,V,5),e&2&&I()},decls:4,vars:0,consts:[["divGroup",""],[1,"h-screen","overflow-y-scroll","grid","grid-cols-2","md:grid-cols-4","gap-4","pt-5",3,"scroll"],[1,"grid","gap-4"],["src","h-full w-full rounded-lg object-cover",3,"src","alt"]],template:function(e,n){if(e&1){let a=D();o(0,"div",1,0),P("scroll",function(s){return v(a),u(n.onScroll(s))}),g(2,H,3,0,"div",2,w),l()}e&2&&(r(2),d(n.gifService.trendingGifGroup()))},encapsulation:2})};export{G as TrendingPageComponent};
